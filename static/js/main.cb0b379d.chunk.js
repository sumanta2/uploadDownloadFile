(this.webpackJsonp37react_firebase=this.webpackJsonp37react_firebase||[]).push([[0],{37:function(e,t,a){},38:function(e,t,a){},40:function(e,t,a){},48:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a.n(n),c=a(20),s=a.n(c),i=(a(37),a(11)),o=(a(38),a(14)),l=a(6),u=a(18),b=a.n(u),j=a(24),f=(a(29),a(30)),d=(a(40),a(5)),m={width:"270px",height:"31px",marginLeft:"0.5em",marginRight:"0.5em",marginBottom:"0.5em",color:"#461b1b",backgroundColor:"rgb(0 0 0 / 20%)",borderRadius:"5px"},p=function(e){var t=e.id,a=e.name,n=e.url,r=e.fileName;e.fileType;return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{id:t,className:"dataContainer",children:[Object(d.jsx)("p",{style:m,children:r}),Object(d.jsxs)("div",{className:"d-flex justify-content-around align-items-center myPointer",children:[Object(d.jsxs)("h5",{children:["Owner: ",a]}),Object(d.jsx)("div",{children:Object(d.jsx)("a",{href:n,target:"_blank",download:!0,children:Object(d.jsx)(f.a,{})})})]})]})})},O=function(e){var t=e.value;return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"d-flex flex-row flex-wrap justify-content-center m-4",children:[null!=t&&Object.entries(t).map((function(e){var t=Object(i.a)(e,2),a=(t[0],t[1]),n=a.id,r=a.imgUrl,c=a.name,s=a.fileName,o=a.fileType;return Object(d.jsx)(p,{name:c,url:r,fileName:s,fileType:o},n)})),null==t&&Object(d.jsx)("p",{children:"No Data found"})]})})},h=a(16),g=(a(53),a(48),function(e){var t=e.getData,a=e.setData,r=e.setProgress,c=e.imageData,s="https://reactfirebaseconnection-default-rtdb.firebaseio.com/reactfirebase.json",u=Object(n.useState)({name:""}),f=Object(i.a)(u,2),m=f[0],p=f[1],g=Object(n.useState)({}),x=Object(i.a)(g,2),y=x[0],v=x[1],w=Object(h.c)((function(e){return e.changeUrl}));Object(n.useEffect)((function(){D()}),[]);var D=function(){var e=Object(j.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(s);case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,v(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Error to fetch All Data");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(j.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r(0),!m.name||!w){e.next=17;break}return e.prev=4,e.next=7,fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:(new Date).getTime().toString(),name:m.name,imgUrl:w,fileName:c.name,fileType:c.type})});case 7:n=e.sent,setTimeout((function(){a(!0)}),2e3),n&&(alert("Data inserted successfully"),p({name:""}),D()),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.log("Error for server side");case 15:e.next=18;break;case 17:""==w?alert("image was not upload properly please wait a while"):alert("Blank data not allowed/Please wait for properly upload the image");case 18:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}(),N={margin:"10px"};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("form",{className:"myForm myStyle",method:"POST",children:[Object(d.jsx)("h3",{children:"Enter Details"}),Object(d.jsxs)("div",{className:"",style:N,children:[Object(d.jsx)("span",{style:{float:"left"},children:"Owner"}),Object(d.jsx)("input",{className:"inputStyle",style:{width:"170px",marginLeft:"33px"},type:"text",name:"name",placeholder:"Enter your name",value:m.name,onChange:function(e){var t=e.target,a=t.name,n=t.value;p((function(e){return Object(l.a)(Object(l.a)({},e),{},Object(o.a)({},a,n))}))},autoComplete:"off",required:!0})]}),Object(d.jsx)("div",{className:"",style:N,children:Object(d.jsx)("button",{className:"btn btn-outline-success",onClick:S,disabled:t,children:"Submit"})})]}),Object(d.jsx)(O,{value:y})]})}),x=a(26);x.a.initializeApp({apiKey:"AIzaSyAk3O2p7HobLa9V4mkLxPiLeCBPwKxnZz0",authDomain:"reactfirebaseconnection.firebaseapp.com",databaseURL:"https://reactfirebaseconnection-default-rtdb.firebaseio.com",projectId:"reactfirebaseconnection",storageBucket:"reactfirebaseconnection.appspot.com",messagingSenderId:"574167705081",appId:"1:574167705081:web:d9378cfc4a271835d20928"});var y=x.a.storage(),v=a(32),w=(a(28),function(e){var t=e.myData,a=e.getProgress,r=e.setProgress,c=e.setImageData,s=Object(n.useState)(),o=Object(i.a)(s,2),l=(o[0],o[1]),u=Object(n.useState)(""),b=Object(i.a)(u,2),j=b[0],f=b[1],m=Object(h.b)(),p=Object(n.useRef)();Object(n.useEffect)((function(){m({type:"ShowData",payload:j})}),[j]);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{children:"Upload Files"}),Object(d.jsx)("div",{style:{height:"40px"},children:0!=a&&Object(d.jsx)("h3",{children:"Your uploading progress is ".concat(Math.abs(a)," ")})}),Object(d.jsx)("input",{type:"file",style:{display:"none"},ref:p,onChange:function(e){!function(e){l(e.target.files[0]),c({name:e.target.files[0].name,type:e.target.files[0].type}),y.ref(e.target.files[0].name).put(e.target.files[0]).on("state_changed",(function(e){r(Math.round(e.bytesTransferred/e.totalBytes*100)-1)}),(function(e){console.log(e)}),(function(){y.ref().child(e.target.files[0].name).getDownloadURL().then((function(e){r(100),t(!1),f(e)}))}))}(e)}}),Object(d.jsxs)("button",{className:"btn btn-outline-success m-4",onClick:function(){p.current.click()},children:[" ",Object(d.jsx)(v.a,{})]})]})});var D=function(){var e=Object(n.useState)(!0),t=Object(i.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(0),s=Object(i.a)(c,2),o=s[0],l=s[1],u=Object(n.useState)({name:"",type:""}),b=Object(i.a)(u,2),j=b[0],f=b[1];return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(w,{myData:r,getProgress:o,setProgress:l,setImageData:f}),Object(d.jsx)(g,{getData:a,setData:r,setProgress:l,imageData:j})]})},S=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,58)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))},N=a(22),k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"ShowData"===t.type?t.payload:e},T=Object(N.a)({changeUrl:k}),_=Object(N.b)(T,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());s.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsxs)(h.a,{store:_,children:["   ",Object(d.jsx)(D,{})]})}),document.getElementById("root")),S()}},[[54,1,2]]]);
//# sourceMappingURL=main.cb0b379d.chunk.js.map