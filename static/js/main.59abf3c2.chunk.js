(this.webpackJsonp37react_firebase=this.webpackJsonp37react_firebase||[]).push([[0],{37:function(e,t,a){},38:function(e,t,a){},40:function(e,t,a){},45:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a.n(n),s=a(18),c=a.n(s),i=(a(37),a(11)),o=(a(38),a(13)),l=a(6),u=a(22),b=a(16),j=a.n(b),f=(a(28),a(29)),d=(a(40),a(5)),m={width:"270px",height:"31px",marginLeft:"0.5em",marginRight:"0.5em",marginBottom:"0.5em",color:"#461b1b",backgroundColor:"rgb(0 0 0 / 20%)",borderRadius:"5px"},p=function(e){var t=e.id,a=e.name,n=e.url,r=e.fileName;e.fileType;return r.split(".")[0].length>18&&(r=r.split(".")[0].substring(0,15)+"... ."+r.split(".")[1]),Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{id:t,className:"dataContainer",children:[Object(d.jsx)("p",{style:m,children:r}),Object(d.jsxs)("div",{className:"d-flex justify-content-around align-items-center myPointer",children:[Object(d.jsxs)("h5",{children:["Owner: ",a]}),Object(d.jsx)("div",{children:Object(d.jsx)("a",{href:n,target:"_blank",download:!0,children:Object(d.jsx)(f.a,{})})})]})]})})},h=function(e){var t=e.value;return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"d-flex flex-row flex-wrap justify-content-center m-4",children:[null!=t&&Object.entries(t).map((function(e){var t=Object(i.a)(e,2),a=(t[0],t[1]),n=a.id,r=a.imgUrl,s=a.name,c=a.fileName,o=a.fileType;return Object(d.jsx)(p,{name:s,url:r,fileName:c,fileType:o},n)})),null==t&&Object(d.jsx)("p",{children:"No Data found"})]})})},O=a(14),g=(a(52),a(45),function(e){var t=e.getData,a=e.setData,r=e.setProgress,s=e.imageData,c=e.setShowProgress,b="https://reactfirebaseconnection-default-rtdb.firebaseio.com/reactfirebase.json",f=Object(n.useState)({name:""}),m=Object(i.a)(f,2),p=m[0],g=m[1],x=Object(n.useState)({}),y=Object(i.a)(x,2),v=y[0],w=y[1],S=Object(O.c)((function(e){return e.changeUrl}));Object(n.useEffect)((function(){D()}),[]);var D=function(){var e=Object(u.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(b);case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,w(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Error to fetch All Data");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(u.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r(0),!p.name||!S){e.next=18;break}return e.prev=4,c(!1),e.next=8,fetch(b,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:(new Date).getTime().toString(),name:p.name,imgUrl:S,fileName:s.name,fileType:s.type})});case 8:n=e.sent,setTimeout((function(){a(!0)}),2e3),n&&(alert("Data inserted successfully"),g({name:""}),D()),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),console.log("Error for server side");case 16:e.next=19;break;case 18:""==S?alert("image was not upload properly please wait a while"):alert("Blank data not allowed/Please wait for properly upload the image");case 19:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}(),P={margin:"10px"};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("form",{className:"myForm myStyle",method:"POST",children:[Object(d.jsx)("h3",{children:"Enter Details"}),Object(d.jsxs)("div",{className:"",style:P,children:[Object(d.jsx)("span",{style:{float:"left"},children:"Owner"}),Object(d.jsx)("input",{className:"inputStyle",style:{width:"170px",marginLeft:"33px"},type:"text",name:"name",placeholder:"Enter your name",value:p.name,onChange:function(e){var t=e.target,a=t.name,n=t.value;g((function(e){return Object(l.a)(Object(l.a)({},e),{},Object(o.a)({},a,n))}))},autoComplete:"off",required:!0})]}),Object(d.jsx)("div",{className:"",style:P,children:Object(d.jsx)("button",{className:"btn btn-outline-success",onClick:N,disabled:t,children:"Submit"})})]}),Object(d.jsx)(h,{value:v})]})}),x=a(24);x.a.initializeApp({apiKey:"AIzaSyAk3O2p7HobLa9V4mkLxPiLeCBPwKxnZz0",authDomain:"reactfirebaseconnection.firebaseapp.com",databaseURL:"https://reactfirebaseconnection-default-rtdb.firebaseio.com",projectId:"reactfirebaseconnection",storageBucket:"reactfirebaseconnection.appspot.com",messagingSenderId:"574167705081",appId:"1:574167705081:web:d9378cfc4a271835d20928"});var y=x.a.storage(),v=a(31),w=a.n(v),S=a(32),D=(a(27),function(e){var t=e.myData,a=e.getProgress,r=e.setProgress,s=e.setImageData,c=e.showProgress,o=e.setShowProgress,l=Object(n.useState)(),u=Object(i.a)(l,2),b=(u[0],u[1]),j=Object(n.useState)(""),f=Object(i.a)(j,2),m=f[0],p=f[1],h=Object(O.b)(),g=Object(n.useRef)();Object(n.useEffect)((function(){h({type:"ShowData",payload:m})}),[m]);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{children:"Upload Files"}),Object(d.jsx)("div",{style:{height:"40px"},children:c&&Object(d.jsxs)("div",{style:{width:"44vw",margin:"auto"},children:["  ",Object(d.jsx)(w.a,{completed:a})," "]})}),Object(d.jsx)("input",{type:"file",style:{display:"none"},ref:g,onChange:function(e){!function(e){b(e.target.files[0]),s({name:e.target.files[0].name,type:e.target.files[0].type}),o(!0),y.ref(e.target.files[0].name).put(e.target.files[0]).on("state_changed",(function(e){r(Math.round(e.bytesTransferred/e.totalBytes*100)-1)}),(function(e){console.log(e)}),(function(){y.ref().child(e.target.files[0].name).getDownloadURL().then((function(e){r(100),t(!1),p(e)}))}))}(e)}}),Object(d.jsxs)("button",{className:"btn btn-outline-success m-4",onClick:function(){g.current.click()},children:[" ",Object(d.jsx)(S.a,{})]})]})});var N=function(){var e=Object(n.useState)(!0),t=Object(i.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(0),c=Object(i.a)(s,2),o=c[0],l=c[1],u=Object(n.useState)({name:"",type:""}),b=Object(i.a)(u,2),j=b[0],f=b[1],m=Object(n.useState)(!1),p=Object(i.a)(m,2),h=p[0],O=p[1];return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(D,{myData:r,getProgress:o,setProgress:l,setImageData:f,showProgress:h,setShowProgress:O}),Object(d.jsx)(g,{getData:a,setData:r,setProgress:l,imageData:j,setShowProgress:O})]})},P=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,56)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),s(e),c(e)}))},k=a(20),T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"ShowData"===t.type?t.payload:e},_=Object(k.a)({changeUrl:T}),E=Object(k.b)(_,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());c.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsxs)(O.a,{store:E,children:["   ",Object(d.jsx)(N,{})]})}),document.getElementById("root")),P()}},[[53,1,2]]]);
//# sourceMappingURL=main.59abf3c2.chunk.js.map